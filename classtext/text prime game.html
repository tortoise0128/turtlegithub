<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Animate.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <title>JavaScript小作品</title>
    <style>
        .d-flex {
            display: flex;
            justify-content: center;
            flex-direction: row;
            flex-wrap: wrap;
            /* 忘記這不是Bootstrap */
        }

        .container {
            flex: 1;
            width: 30%;
            border: 0.1px solid skyblue;
            border-radius: 10%;
            /* margin: 0 auto; */
            background: aliceblue;
            padding: 2%;
        }

        .sp {
            text-align: center;
            font-weight: bold;
        }

        /* 面試考題 */
        table {
            border: 1px solid black;
        }

        td {
            border: 1px solid black;
        }

        /* 價錢計算 */
        .input-number {
            width: 30%;
            font-size: 150%;
            font-weight: bold;
        }

        .inp1 {
            width: 20%;
            cursor: pointer;
            font-size: 150%;
            font-weight: bold;
            color: rgb(41, 58, 58);
        }

        .inp1:hover {
            border-radius: 5px;
            background: rgba(100, 148, 237, 0.226);
            color: darkcyan;
        }

        .npd-form-counter {
            text-align: center;
            display: flex;
            justify-content: space-evenly;
            align-items: center;
        }

        /* jQ問答 */
        .answer {
            /* width: 50%; */
            align-content: space-between;
            margin-bottom: 5%;
        }

        .tip {
            width: 50%;
        }

        .tip:hover {
            font-weight: bold;
        }

        .small {
            display: none;
            color: deeppink;
        }

        .small.active {
            display: block;
        }

        .blackr {
            position: relative;

        }

        .black1.activer {
            filter: blur(2px);
        }


        .black {
            display: none;
            width: 50%;
            /* height:5%; */
            border-radius: 10px;
            background: yellow;
            color: red;
            font-size: 100%;
            font-weight: bold;
            text-align: center;
            position: absolute;
            top: 30%;
            left: 40%;
        }

        .black.active1 {
            display: block;
        }

        .no1 {
            display: none;
        }

        .no1.activen {
            display: block;
        }

        .yes1 {
            display: none;
        }

        .yes1.activey {
            display: block;
        }

        /* 上下左右 */
        .wrappe {
            position: relative;
            margin: 0 auto;
            width: 200px;
            height: 200px;
            background: #eee;
        }

        .box1 {
            position: absolute;
            top: 40%;
            left: 40%;
            width: 50px;
            height: 50px;
            background: lightblue;
        }

        .text-center {
            display: flex;
        }

        .mx-1 {
            flex: 1;
        }

        .mx-1:hover {
            background: rgba(173, 216, 230, 0.226);
        }

        /* 猜大小 */
        .numm {
            width: 40%;
        }

        .ull {
            padding-left: 10%;
        }

        .few {
            text-align: center;
            font-style: italic;
            color: whitesmoke;
            width: 100%;
            background: linear-gradient(to bottom right, yellow, red);
        }

        .mar {
            opacity: 0;

        }

        /* 大概的RWD */
        @media screen and (max-width: 540px) {
            .d-flex {
                display: flex;
                flex-direction: column;
                /* 忘記這不是Bootstrap */
            }

            .container {
                width: 90%;
                margin: 0 auto;
            }
        }
    </style>
</head>

<body>
    <div class="d-flex">
        <!-- 質數 -->
        <div class="container">
            <!-- 質數 -->
            <p>今天中餐，我選擇-
            <h1 class="sp">?</h1>-質數套餐 </p>
            <!-- span無法用animate.css特效 -->
            <!-- 不得已寫成會被老師嗆的格式 -->
            <button class="bttm" onclick="meal()">隨機100內質數</button>
        </div>
        <!-- 面試考題 -->
        <div class="container c2 p-2">
            <!-- 面試考題 -->
            <!-- 大寫26個英文字母放入3*9的table裡 -->
            <!-- 要求用到array和for迴圈 -->
        </div>
        <!-- Vue.js -->
        <div class="container">
            <div class="ttest5">
                <p>Vue.js</p>
                年齡: <select v-model="message" class="sel1" name="sel1" id="">
                </select> 歲
                <p>您的年齡為'{{ message }}'歲，判定{{ message >17 ? '可以' : '不可以' }}喝酒!!!</p>
            </div>
        </div>
    </div>
    <!-- ------------------第二區------------------ -->
    <div class="d-flex">
        <!-- jQ問答 -->
        <div class="container">
            <p>純jQuery</p>
            <div class="blackr ">
                <div class="black1">
                    <h4>提問 桃園三結義何者為非?</h4>
                </div>
                <div class="d-flex answer black1">
                    <div class="tip">
                        <input class="tip1 yes" type="radio" id="huey" name="drone" value="huey">
                        <!-- checked -->
                        <label for="huey">曹操.</label>
                    </div>

                    <div class="tip">
                        <input class="tip1 no" type="radio" id="dewey" name="drone" value="dewey">
                        <label for="dewey">劉備.</label>
                    </div>

                    <div class="tip">
                        <input class="tip1 no" type="radio" id="louie" name="drone" value="louie">
                        <label for="louie">關羽.</label>
                    </div>
                    <div class="tip">
                        <input class="tip1 no" type="radio" id="louie1" name="drone" value="louie1">
                        <label for="louie1">張飛.</label>
                    </div>

                    <!-- lable用for或直接包input增加選取範圍 -->
                </div>
                <div>
                    <small class="small">
                        正解: <br> 桃園三結義為劉備﹑關羽﹑張飛</small>
                </div>
                <div class="black">
                    <p class="no1">X答錯了</p>
                    <p class="yes1">O答對了</p>
                </div>
            </div>
        </div>
        <!-- 上下左右 -->
        <div class="container">
            <div class="py-3 text-center">
                <button class="btn btn-info mx-1" id="up">
                    上
                </button>
                <button class="btn btn-info mx-1" id="left">
                    左
                </button>
                <button class="btn btn-info mx-1" id="right">
                    右
                </button>
                <button class="btn btn-info mx-1" id="down">
                    下
                </button>
            </div>
            <div class="wrappe position-relative mx-auto">
                <div title="我可以用鍵盤移動唷" class="box1 position-absolute"></div>
            </div>
        </div>
        <!-- 價錢運算 -->
        <div class="container">
            <p>混搭jQuery</p>
            <div class="npd-form-group">
                <div>
                    <p class="ppp1"> 單價: <span class="npd-form-price" style="font-weight: bold;">150</span> 元</p>
                </div>
                <div class="quantity npd-form-counter">
                    <span title="減" class="inp1 input-number-decrement npd-form-counter-btn" data-type="reduce"
                        type="number"> -
                    </span>
                    <!-- 圖片下alt 文字下title -->
                    <input maxlength="2" tabindex="0" class="input-number npd-form-counter-quantity" type="text"
                        oninput="value=value.replace(/[^\d]/g,'1')" value="1" name="npd-activity-Quantity">
                    <!-- oninput正規表達式擋下文字 -->
                    <!-- 瀏覽器內建tabindex鍵盤功能 -->
                    <span title="加" class="inp1 input-number-increment npd-form-counter-btn" data-type="plus"
                        type="number">
                        +
                    </span>
                </div>
                <small class="text-danger" style="color: firebrick;">(數字區域最大值20，請勿留白，謝謝)</small>
                <div>
                    <p class="ppp1">數量: <span class="npd-form-co" style="font-weight: bold;"></span> 個，合計: <span
                            class="npd-form-subprice" style="font-weight: bold;"></span> 元
                    </p>
                </div>

            </div>
        </div>
    </div>
    <!------------------------- 第三區----------------------->
    <div class="d-flex">
        <!-- 猜大小 -->
        <div class="container">
            <p>數字比大小(不能是負數)</p>
            <div class="hqw">
                <div class="mar">
                    <marquee behavior="side" direction="left" scrollamount="10">
                        <div class="few">A Few Moments Later </div>
                    </marquee>
                </div>
                <ul class="ull"></ul>
            </div>
            <button class="numm1" onclick="smalll()">猜小-</button>
            <input class="numm" id="numm" type="number" value="2" placeholder="不能是負數" size="">
            <button class="numm1" onclick="bigg()">-猜大</button>
        </div>
        <!-- 面試題目- return boolean -true if the testNum is in between in limit1 and limit2,false otherwise. -->
        <div class="container">
            <p>testNum是否在兩個limit中間?</p>
            <div>
                <p class="pletter">testNum: <input class="testNum" type="number" placeholder="0" pattern=""></p>
                <p class="pletter">limit1: <input class="limit1" type="number" placeholder="0" pattern=""></p>
                <p class="pletter">limit2: <input class="limit2" type="number" placeholder="0" pattern=""></p>
                <p class="pletter">數字的排序--[<strong class="testar">array</strong>]--</p>
                <p class="pletter">testNum在limit1與limit2之間嗎?--<strong class="testbe">True or False</strong>--
                    <button onclick="isBetween()">檢查</button>
                </p>
            </div>
        </div>
        <!-- 面試題目-字串翻轉 -->
        <div class="container">
            <p style="">將字串翻轉</p>
            <div>
                <p class="">請輸入隨意字串: <input class="lettereverse" type="text" placeholder="Madam,I'm Adom"
                        pattern=""><button onclick="lettereverse()">翻轉</button></p>
                <p class="">字串翻轉為--<strong class="lettereverse1">?</strong>--</p>
            </div>
        </div>
    </div>
    <!--------------------- 第四區 -------------------------->
    <div class="d-flex">
        <!-- 面試題目-參考java.lang.Math.Pi -->
        <div class="container">
            <p style="">寫出個函數算出半徑已知的圓面積(圓面積=半徑x半徑x圓周率)</p>
            <div>
                <p class="pletter">(無防呆)請輸入圓半徑: <input class="numpi" type="number" placeholder="半徑沒有負數，謝謝"
                        pattern=""><button onclick="mathpi()">計算</button></p>
                <!-- Math.Pi好聰明會修正負值耶 -->
                <p class="pletter">圓面積為--<strong class="numpi1">?</strong>--</p>
            </div>
        </div>
        <!-- 面試題目-return true if the given str starts with an upper-case letter A-Z  -->
        <div class="container">
            <p style="">判斷英文字串首字是否為大寫</p>
            <div>
                <p class="pletter">請輸入英文字串: <input class="letter" type="text" placeholder="a-z A-Z"
                        pattern="/[^a-zA-Z]/" onkeyup="value=value.replace(/[^a-zA-Z]/g,'')"><button
                        onclick="isStartsWith()">檢查</button></p>

                <p class="pletter">英文字串字首是否為大寫--<strong class="letter1">True or False</strong>--</p>
            </div>
        </div>
        <!-- 違約金 考保險證照用的 -->
        <div class="container">
            <div>
                <p>解約金計算= <br>保價金<input class="Insured" id="Insured" type="number" placeholder="保單價值準備金" size=""
                        style="width: 5rem;"> x
                    年數<input class="year" id="year" type="number" placeholder="保單經過年數" style="width: 5rem;"> <br> -解約金
                    <button onclick="money1()">計算</button>
                </p>
                <p>支付解約金後的金額-<strong class="Termination">0</strong>元</p>
            </div>
        </div>
    </div>

    <!-- ------------------------------------------- -->
    <!-- Vue.js -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
        integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script>
        // 質數
        let flag = false;
        let array = [];
        for (let i = 2; i <= 100; i++) {
            for (let j = 2; j < i; j++) {
                if (i % j == 0) {
                    flag = true;
                    // document.write("非質數" + i);
                }

            }
            if (flag == false) {
                console.log(i);
                array.push(i)
                // 複製進去
                // console.log(array)

                console.log("質數" + i);

            } else { flag = false }
        }

        console.log(array)
        function meal() {
            let idRandom = Math.floor(Math.random() * array.length);
            let span = document.querySelector(".sp")
            console.log(span)
            span.innerText = `${array[idRandom]}`;
            span.style.color = "red";
            span.classList.add('animate__animated', 'animate__flipInX');
            span.style.setProperty('--animate-duration', '0.5s');
            span.addEventListener('animationend', () => {
                // do something
                span.classList.remove('animate__animated', 'animate__flipInX');
            });
        }
        // --------------------------------------------------------
        // 面試考題
        let letter1 = [['A', 'B', 'C'], ['D', 'E', 'F'], ['G', 'H', 'I'], ['J', 'K', 'L'], ['M', 'N', 'O'], ['P', 'Q', 'R'], ['S', 'T', 'U'], ['V', 'W', 'X'], ['Y', 'Z', '']];
        document.write("<table border=1 class=t2>");
        let t2 = document.querySelector(".t2");
        console.log(t2)
        // table.setAttribute("class","tab")
        for (let x = 0; x < 9; x++) {
            document.write("<tr>");
            for (let y = 0; y < 3; y++) {

                document.write(`<td></td>`);
                for (var b = 0; b < t2.rows.length; b++)
                    for (var d = 0; d < t2.rows[b].cells.length; d++)
                        t2.rows[b].cells[d].innerText = letter1[b][d];
            }
            document.write("</tr>");
        }
        document.write("</table>");
        let c2 = document.querySelector(".c2")
        c2.appendChild(t2)
        // -----------------------------------------------------------
        //Vue.js
        let sel1 = document.querySelector(".sel1")
        for (let i = 1; i <= 100; i++) {
            let option = document.createElement('option')
            option.setAttribute('value', `${[i]}`)
            // 這個也要放模板樣式
            let txt = document.createTextNode(`${[i]}`)
            console.log(txt)
            option.appendChild(txt)
            sel1.appendChild(option)
        }
        var ttest5 = new Vue({
            // 酒酒
            el: '.ttest5',
            data: {
                message: '1',

            }
        })
        // ----------------------------------------------
        // 上下左右
        // -----------按鈕---------
        $("#up").click(function () {
            console.log("up")

            let top = parseInt($(".box1").css("top"))
            console.log(top);

            if (top === 0) {
                return false;
                // 錯誤先行
            } else {
                $(".box1").css("top", "-=10")
            }

        })
        $("#left").click(function () {
            console.log("left")

            let left = parseInt($(".box1").css("left"))
            console.log(left)

            if (left > 0) {
                $(".box1").css("left", "-=10")
            } else {

            }


        })
        $("#right").click(function () {
            console.log("right")

            let left = parseInt($(".box1").css("right"))
            console.log(left)

            if (left > 0) {
                $(".box1").css("left", "+=10")
            } else {

            }

        })
        $("#down").click(function () {
            console.log("down")

            let top = parseInt($(".box1").css("top"))
            console.log(top)

            if (top === 150) {
                return false;
                // 錯誤先行
            } else {
                $(".box1").css("top", "+=10")
            }

        })
        // --------------鍵盤-----------
        $("body").keydown(function () {
            let keycode = event.which;
            let top, left, right;
            switch (keycode) {
                case 38:
                    // up 
                    top = parseInt($(".box1").css("top"))
                    console.log(top);

                    if (top === 0) {
                        return false;
                        // 錯誤先行
                    } else {
                        $(".box1").css("top", "-=10")
                    }

                    break;

                case 40:
                    // down
                    top = parseInt($(".box1").css("top"))
                    console.log(top)

                    if (top === 150) {
                        return false;
                        // 錯誤先行
                    } else {
                        $(".box1").css("top", "+=10")
                    }

                    break;

                case 37:
                    //  left
                    left = parseInt($(".box1").css("left"))
                    console.log(left)

                    if (left > 0) {
                        $(".box1").css("left", "-=10")
                    } else {

                    }

                    break;

                case 39:
                    //  right
                    right = parseInt($(".box1").css("left"))
                    console.log(right)

                    if (right > 140) {
                        return false;
                        // 錯誤先行
                    } else {
                        $(".box1").css("left", "+=10")
                    }

                    break;
            }
        })
        // ---------------------------------------------
        // 價錢計算
        let catfood = document.querySelector(".npd-form-price").innerText;
        // 除了input有value其他格式沒有value
        console.log(catfood)
        let catfood1 = document.querySelector(".npd-form-subprice")
        catfood1.append(catfood)
        let catfood2 = document.querySelector(".input-number").value;
        console.log(catfood2)
        let catfood3 = document.querySelector(".npd-form-co");
        catfood3.append(catfood2)
        // -----------------輸入監聽-------------------
        $(".input-number").bind('input porpertychange', function () {
            // alert("請輸入20以下數字 謝謝")
            let catfood4 = document.querySelector(".npd-form-price").innerText;
            let catfood5 = document.querySelector(".input-number").value;
            console.log(catfood5)
            let catfood6 = document.querySelector(".npd-form-co");
            if (catfood5 > 20) {
                alert("數量最多20，謝謝")
                return false;
            } else {
                catfood6.innerText = `${catfood5}`;
            }

            let catfood7 = catfood4 * catfood5;
            let catfood8 = document.querySelector(".npd-form-subprice");
            catfood8.innerText = `${catfood7}`;


        });
        // ----------------按鈕操作------------------
        $(".npd-form-counter-btn").on("click", function () {
            let row = $(this).closest(".npd-form-counter");
            let qty = parseInt(row.find(".npd-form-counter-quantity").val());
            console.log("qty" + qty)
            if ($(this).data("type") == "plus") {
                qty++
                if (qty > 20) qty = 20;
            } else {
                qty--;
                if (qty < 1) qty = 1;
            }
            row.find(".npd-form-counter-quantity").val(qty)
            row.find(".npd-form-counter-quantity").change();

            let total = 0;
            $(".npd-form-group").each(function () {

                let price = $(this).find(".npd-form-price").text();
                console.log(price)
                let amt = $(this).find(".npd-form-counter-quantity").val();
                console.log(amt)
                let subtotal = amt * price;

                total += subtotal;
                $(".npd-form-subprice").text(total)
                $(".npd-form-co").text(amt)


            })
        });
        // ---------------------------------------------
        // jQ的問答
        $(".tip1").click(function () {
            $(".small").addClass("active")
        });
        $(".no").click(function () {
            $(".black").addClass("active1")
            $(".no1").addClass("activen")
            $(".yes1").removeClass("activey")
            $(".black1").addClass("activer")
            setTimeout(function () {
                $(".black").removeClass("active1")
                $(".no1").removeClass("activen")
                $(".black1").removeClass("activer")
            }, 1000);
        });
        $(".yes").click(function () {
            $(".black").addClass("active1")
            $(".yes1").addClass("activey")
            $(".no1").removeClass("activen")
            $(".black1").addClass("activer")
            setTimeout(function () {
                $(".black").removeClass("active1")
                $(".yes1").removeClass("activey")
                $(".black1").removeClass("activer")
            }, 3000);
        });
        // ------------------------------------------------------
        // 猜大小
        function jqtime() {
            $(".numm1").attr("disabled", true);
            $(".mar").css("opacity", "1");
            $(".ull").css("opacity", "0");
            $(document).ready(function () {
                setTimeout(function () {
                    $(".numm1").attr("disabled", false);
                    $(".mar").css("opacity", "0");
                    $(".ull").css("opacity", "1");

                }, 3000);
                // 消失時間
            });
        }
        function bigg() {
            let numm = document.querySelector(".numm").value;
            console.log(numm)
            let ull = document.querySelector(".ull");
            for (let i = 1; i <= numm * 2; i++) {
                let idRandom = Math.floor(Math.random() * i + 1);
                console.log(i)
                console.log(idRandom)
                if (numm >= idRandom) {
                    ull.innerHTML = `<li>猜大- '${numm}' > '${idRandom}' -You Win !!!</li>`;
                    // alert(`${numm}>=${idRandom} you win`)
                } else {
                    ull.innerHTML = `<li>猜大- '${numm}' < '${idRandom}' -You Lost !!!</li>`;
                    // alert(`${numm}<= ${idRandom} you lost`)
                }
            }
            jqtime()
        }
        function smalll() {
            let numm = document.querySelector(".numm").value;
            console.log(numm)
            let ull = document.querySelector(".ull");
            for (let i = 1; i <= numm * 2; i++) {
                let idRandom = Math.floor(Math.random() * i + 1);
                console.log(i)
                console.log(idRandom)
                if (numm <= idRandom) {
                    ull.innerHTML = `<li>猜小- '${numm}' < '${idRandom}' -You Win !!!</li>`;
                    // alert(`${numm}>=${idRandom} you win`)
                } else {
                    ull.innerHTML = `<li>猜小- '${numm}' > '${idRandom}' -You Lost !!!</li>`;
                    // alert(`${numm}<= ${idRandom} you lost`)
                }
            }
            jqtime()
        }
        // ------------------------------------------
        // 數字區間
        console.log(`最小值${Math.min(2, 3, 1)}`);
        console.log(`最大值${Math.max(2, 3, 1)}`);
        function isBetween() {
            let testNum = document.querySelector(".testNum").value;
            let limit1 = document.querySelector(".limit1").value;
            let limit2 = document.querySelector(".limit2").value;
            let testbe = document.querySelector(".testbe");
            let testar = document.querySelector(".testar");
            // 數字排序
            let testarray = [testNum, limit1, limit2];
            let testsort = testarray.sort(function (a, b) {
                return a - b;
                // 升冪
                // return b - a;
                // 降冪
            });
            console.log(`array:${testsort}`);
            testar.innerHTML = `${testsort}`;
            testar.style.color = "red";
            // testNum是否在limit中間
            let testmin = Math.min(testNum, limit1, limit2);
            let testmax = Math.max(testNum, limit1, limit2);
            console.log(`最小值${Math.min(testNum, limit1, limit2)}`);
            console.log(`最大值${Math.max(testNum, limit1, limit2)}`);
            let testbetween
            if (testmin < testNum && testmax > testNum) {
                testbetween = 'True';
            } else {
                testbetween = 'False';
            }
            console.log(`在中間?:${testbetween}`);
            testbe.innerHTML = `${testbetween}`;
            testbe.style.color = "red";
        }
        // ------------------------------------------
        // 字串翻轉
        function lettereverse() {
            let lettereverse = document.querySelector(".lettereverse").value;
            let lettereverse1 = document.querySelector(".lettereverse1");
            console.log(`字串:${lettereverse}`);
            let lettereverse3 = lettereverse.split("").reverse().join("");
            // split將字串切斷
            console.log(`翻轉字串:${lettereverse3}`);
            lettereverse1.innerHTML = `${lettereverse3}`;
            lettereverse1.style.color = "red";
        }
        // ---------------------------------------------------
        // 圓周率
        console.log(`圓周率${Math.PI}`)
        function mathpi() {
            let numpi = document.querySelector(".numpi").value;
            let numpi1 = document.querySelector(".numpi1");
            console.log(`半徑:${numpi}`);
            let numpi2 = numpi * numpi * Math.PI;
            console.log(`圓面積:${numpi2}`);
            numpi1.innerHTML = `${numpi2}`;
            numpi1.style.color = "red";
        }
        // -------------------------------------------------
        // 英文大小寫
        function isStartsWith() {
            let letter = document.querySelector(".letter").value;
            let letter1 = document.querySelector(".letter1");
            console.log(`英文字串:${letter}`);
            letterarray = [];
            letterarray.push(letter);
            console.log(`英文字串array:${letterarray}`);
            let n = letterarray[0];
            let reletter
            if (n >= "A" && n <= "Z") {
                reletter = 'True';
            } else {
                reletter = 'False';
                // alert("請輸入英文，謝謝");
            }
            console.log(`大小寫:${reletter}`);
            letter1.innerHTML = `${reletter}`;
            letter1.style.color = "red";
        }
        // ------------------------------------------------
        // 違約金
        function money1() {
            let Insured = document.querySelector(".Insured").value;
            console.log("保價" + Insured);
            let t = document.querySelector(".year").value;
            console.log("年數" + t);
            let k = 0.92 + 0.08 * t / 10;
            console.log(`解約${k}%`);
            let Term
            if (k <= 1) {
                Term = Insured * k;
                console.log(`解約金${Term}`);
            } else {
                Term = Insured * 1;
                console.log(`解約金${Term}`);
            }
            console.log(`解約金${Term}`);
            let Termination = document.querySelector(".Termination");
            console.log(`支付解約金${Termination}`);
            Termination.innerHTML = `${Term}`;
            Termination.style.color = "red";
            console.log(`支付解約金${Termination}`);
        }
    </script>
</body>

</html>